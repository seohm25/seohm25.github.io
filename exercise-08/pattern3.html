<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>pattern3</title>
<style>
  body { margin:0; background:white; overflow:hidden; }
  .sq {
    position: absolute;
    font-family: Arial;
    font-size: 100px;
    color: blue;
    opacity: 1;
    transition: opacity 0s ease;
    white-space: nowrap;
  }
</style>
</head>
<body>

<script>
const rows = 20;
const cols = 30;
let items = [];

// multiple column LOOP
for (let r = 0; r < rows; r++) {
  for (let c = 0; c < cols; c++) {
    const el = document.createElement("div");
    el.className = "sq";
    el.innerText = "square";
    document.body.appendChild(el);

    // Set to a fixed position
    const x = 10 + c * 110;
    const y = 10 + r * 60;

    // random blink timer
    items.push({ el, x, y });
  }
}

// animation
function animate() {

  for (let i = 0; i < items.length; i++) {
    const sq = items[i];

    // fixed position 
    sq.el.style.left = sq.x + "px";
    sq.el.style.top = sq.y + "px";

   // blink based on random value
    const r = Math.random(); // 0~1

    if (r > 0.97) { 
      sq.el.style.opacity = 1;      // brighter
    } else if (r < 0.02) {
      sq.el.style.opacity = 0;    // darker
    }
  }

  requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
